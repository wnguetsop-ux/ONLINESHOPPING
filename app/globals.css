@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

/* ── Safe area variables (iPhone notch, Android punch-hole, Play Store TWA) ── */
:root {
  --primary: #f97316;
  --primary-dark: #ea580c;
  --primary-light: #fed7aa;
  --safe-top:    env(safe-area-inset-top,    0px);
  --safe-right:  env(safe-area-inset-right,  0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left:   env(safe-area-inset-left,   0px);
}

html {
  scroll-behavior: smooth;
  /* Required for env() to work correctly in TWA/Play Store */
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
  overscroll-behavior-y: none;
}

/* ── Safe area utility classes ─────────────────────────────────────────────── */
.pt-safe  { padding-top:    var(--safe-top);    }
.pb-safe  { padding-bottom: var(--safe-bottom); }
.pl-safe  { padding-left:   var(--safe-left);   }
.pr-safe  { padding-right:  var(--safe-right);  }

/* For sticky headers: adds safe-top ON TOP of existing height */
.h-header-safe { height: calc(4rem + var(--safe-top)); }

/* For fixed bottom bars (cart bar, nav): adds safe-bottom padding */
.pb-bar-safe { padding-bottom: calc(1rem + var(--safe-bottom)); }

/* Bottom spacer so content is not hidden behind fixed bottom bars */
.mb-bar-safe { margin-bottom: calc(4rem + var(--safe-bottom)); }

/* For modals/overlays that need full-screen clearance */
.inset-safe {
  top:    var(--safe-top);
  right:  var(--safe-right);
  bottom: var(--safe-bottom);
  left:   var(--safe-left);
}

/* ── Apply safe-top to fixed/sticky top elements automatically ─────────────── */
@supports (padding-top: env(safe-area-inset-top)) {
  /* Admin header */
  header.admin-header {
    padding-top: var(--safe-top);
    height: calc(4rem + var(--safe-top));
  }

  /* Admin sidebar top logo area */
  aside .sidebar-logo {
    padding-top: var(--safe-top);
    height: calc(4rem + var(--safe-top));
  }

  /* Shop page sticky header */
  header.shop-header {
    padding-top: var(--safe-top);
  }

  /* Fixed bottom bars */
  .fixed-bottom-bar {
    padding-bottom: calc(0.75rem + var(--safe-bottom));
  }
}

/* ── Component layer ───────────────────────────────────────────────────────── */
@layer components {
  .btn-primary   { @apply bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2.5 px-5 rounded-lg transition-all shadow-sm hover:shadow-md active:scale-[0.98]; }
  .btn-secondary { @apply bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2.5 px-5 rounded-lg transition-all; }
  .btn-success   { @apply bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-2.5 px-5 rounded-lg transition-all; }
  .btn-danger    { @apply bg-red-500 hover:bg-red-600 text-white font-semibold py-2.5 px-5 rounded-lg transition-all; }
  .btn-outline   { @apply border-2 border-orange-500 hover:bg-orange-50 text-orange-500 font-semibold py-2.5 px-5 rounded-lg transition-all bg-white; }
  .btn-whatsapp  { @apply bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-all flex items-center justify-center gap-2; }

  .card    { @apply bg-white rounded-xl shadow-sm border border-gray-100 p-6; }

  .input   { @apply w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none transition-all bg-white; }
  .textarea{ @apply w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none transition-all resize-none; }
  .select  { @apply w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none transition-all bg-white appearance-none cursor-pointer; }

  .badge         { @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold; }
  .badge-success { @apply bg-emerald-100 text-emerald-700; }
  .badge-warning { @apply bg-amber-100 text-amber-700; }
  .badge-danger  { @apply bg-red-100 text-red-700; }
  .badge-info    { @apply bg-blue-100 text-blue-700; }

  .stat-card { @apply bg-white rounded-xl p-4 shadow-sm border border-gray-50; }

  .sidebar-link        { @apply flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-all font-medium; }
  .sidebar-link-active { @apply flex items-center gap-3 px-4 py-3 rounded-lg bg-orange-50 text-orange-600 font-semibold; }
}

/* ── Inputs ────────────────────────────────────────────────────────────────── */
input[type="checkbox"] { accent-color: #f97316; }
input[type="radio"]    { accent-color: #f97316; }

/* Remove number input arrows */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

/* ── Scrollbar ─────────────────────────────────────────────────────────────── */
::-webkit-scrollbar       { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px; }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #aaa; }

/* ── Animations ────────────────────────────────────────────────────────────── */
@keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn  { from { opacity: 0; } to { opacity: 1; } }
@keyframes pulse-soft { 0%,100% { opacity:1; } 50% { opacity:.6; } }

.animate-slideUp   { animation: slideUp 0.3s ease-out; }
.animate-fadeIn    { animation: fadeIn  0.3s ease-out; }
.page-enter        { animation: fadeIn  0.2s ease-out; }

/* ── Tap targets (accessibility) ───────────────────────────────────────────── */
button, a, [role="button"] { min-height: 36px; }

/* ── No user select for UI chrome ──────────────────────────────────────────── */
.no-select { -webkit-user-select: none; user-select: none; }

/* ── Print ─────────────────────────────────────────────────────────────────── */
@media print { .no-print { display: none !important; } }

/* ── Play Store / PWA Standalone — hide Google Sign-In ─────────────────────── */
/* When running as installed PWA (Play Store TWA, "Add to Home Screen"),         */
/* Google OAuth is blocked — hide the button entirely via CSS, no JS flash.      */
@media (display-mode: standalone) {
  .google-signin-btn  { display: none !important; }
  .google-signin-sep  { display: none !important; }
}